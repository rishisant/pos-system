{"ast":null,"code":"// // linkFTB : links front end to back end\n// // test_text -> string to be displayed in the tinybox (part of querytest.js)\n// const {Client, Pool} = require('pg');\n// //const dotenv = require('dotenv').config();\n// // Connect to the database\n// import pg from 'pg'\n// const {Client, Pool} = require('pg');\n// const Pool = require('pg').Pool\n//const dotenv = require('dotenv').config();\n// Connect to the database\n// // Now connect to the database\nvar _require = require('pg'),\n  Pool = _require.Pool;\nvar app = express();\nvar pool = new Pool({\n  user: \"csce315_903_santhanam\",\n  host: \"csce-315-db.engr.tamu.edu\",\n  database: \"csce315_903_13\",\n  password: \"529009921\",\n  port: 5432,\n  ssl: {\n    rejectUnauthorized: false\n  }\n});\n\n// var test_text = \"\";\npool.connect();\napp.set(\"view engine\", \"ejs\");\n// app.use(express.static(\"public\"));\n\napp.get('/QueryTest', function (req, res) {\n  var orders = [];\n  pool.query('SELECT * FROM teammembers;').then(function (res) {\n    for (var i = 0; i < res.rowCount; i++) {\n      orders.push(res.rows[i]);\n    }\n  });\n  var data = {\n    orders: orders\n  };\n  console.log(orders);\n  res.render('QueryTest', data);\n});\nprocess.on('SIGINT', function () {\n  pool.end();\n  console.log('Application successfully shutdown');\n  process.exit(0);\n});\n\n// export function linkFTB() {\n//     console.log(\"text has been linked\\n\");\n\n//     var test_text = \"\";\n//     var btn = document.getElementsByClassName(\"tinybox\")[0];\n//     btn.innerHTML = test_text;\n//     // Run a query \n//     // pool.connect()\n//     // pool.connect();\n//     // pool.query('SELECT * FROM product where product_id = 113')\n//     // .then(\n//     //     res => {\n//     //         console.log(res.rows);\n//     //         test_text = res.rows;\n//     //         btn.innerHTML = test_text;\n//     //     }\n//     // )\n//     // .finally(() => pool.end());\n// }","map":{"version":3,"names":["require","Pool","app","express","pool","user","host","database","password","port","ssl","rejectUnauthorized","connect","set","get","req","res","orders","query","then","i","rowCount","push","rows","data","console","log","render","process","on","end","exit"],"sources":["/Users/santanamu/Desktop/pos-p3/pos-sys/src/TestFile.js"],"sourcesContent":["// // linkFTB : links front end to back end\n// // test_text -> string to be displayed in the tinybox (part of querytest.js)\n// const {Client, Pool} = require('pg');\n// //const dotenv = require('dotenv').config();\n\n// // Connect to the database\n\n// import pg from 'pg'\n// const {Client, Pool} = require('pg');\n// const Pool = require('pg').Pool\n//const dotenv = require('dotenv').config();\n\n// Connect to the database\n\n// // Now connect to the database\n\nconst { Pool } = require('pg');\nconst app = express();\n\nconst pool = new Pool({\n    user: \"csce315_903_santhanam\",\n    host: \"csce-315-db.engr.tamu.edu\",\n    database: \"csce315_903_13\",\n    password: \"529009921\",\n    port: 5432,\n    ssl: {rejectUnauthorized: false}\n});\n\n// var test_text = \"\";\npool.connect();\n\napp.set(\"view engine\", \"ejs\");\n// app.use(express.static(\"public\"));\n\napp.get('/QueryTest', (req, res) => {\n    var orders= [];\n\n    pool.query('SELECT * FROM teammembers;')\n        .then(res => {\n            for (let i = 0; i < res.rowCount; i++){\n                orders.push(res.rows[i]);\n            }\n        });\n    \n    const data = {orders: orders};\n    console.log(orders);\n    res.render('QueryTest', data);\n    \n});\n\nprocess.on('SIGINT', function() {\n    pool.end();\n    console.log('Application successfully shutdown');\n    process.exit(0);\n});\n\n// export function linkFTB() {\n//     console.log(\"text has been linked\\n\");\n\n//     var test_text = \"\";\n//     var btn = document.getElementsByClassName(\"tinybox\")[0];\n//     btn.innerHTML = test_text;\n//     // Run a query \n//     // pool.connect()\n//     // pool.connect();\n//     // pool.query('SELECT * FROM product where product_id = 113')\n//     // .then(\n//     //     res => {\n//     //         console.log(res.rows);\n//     //         test_text = res.rows;\n//     //         btn.innerHTML = test_text;\n//     //     }\n//     // )\n//     // .finally(() => pool.end());\n// }"],"mappings":"AAAA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AAAA,eAEiBA,OAAO,CAAC,IAAI,CAAC;EAAtBC,IAAI,YAAJA,IAAI;AACZ,IAAMC,GAAG,GAAGC,OAAO,EAAE;AAErB,IAAMC,IAAI,GAAG,IAAIH,IAAI,CAAC;EAClBI,IAAI,EAAE,uBAAuB;EAC7BC,IAAI,EAAE,2BAA2B;EACjCC,QAAQ,EAAE,gBAAgB;EAC1BC,QAAQ,EAAE,WAAW;EACrBC,IAAI,EAAE,IAAI;EACVC,GAAG,EAAE;IAACC,kBAAkB,EAAE;EAAK;AACnC,CAAC,CAAC;;AAEF;AACAP,IAAI,CAACQ,OAAO,EAAE;AAEdV,GAAG,CAACW,GAAG,CAAC,aAAa,EAAE,KAAK,CAAC;AAC7B;;AAEAX,GAAG,CAACY,GAAG,CAAC,YAAY,EAAE,UAACC,GAAG,EAAEC,GAAG,EAAK;EAChC,IAAIC,MAAM,GAAE,EAAE;EAEdb,IAAI,CAACc,KAAK,CAAC,4BAA4B,CAAC,CACnCC,IAAI,CAAC,UAAAH,GAAG,EAAI;IACT,KAAK,IAAII,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGJ,GAAG,CAACK,QAAQ,EAAED,CAAC,EAAE,EAAC;MAClCH,MAAM,CAACK,IAAI,CAACN,GAAG,CAACO,IAAI,CAACH,CAAC,CAAC,CAAC;IAC5B;EACJ,CAAC,CAAC;EAEN,IAAMI,IAAI,GAAG;IAACP,MAAM,EAAEA;EAAM,CAAC;EAC7BQ,OAAO,CAACC,GAAG,CAACT,MAAM,CAAC;EACnBD,GAAG,CAACW,MAAM,CAAC,WAAW,EAAEH,IAAI,CAAC;AAEjC,CAAC,CAAC;AAEFI,OAAO,CAACC,EAAE,CAAC,QAAQ,EAAE,YAAW;EAC5BzB,IAAI,CAAC0B,GAAG,EAAE;EACVL,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAC;EAChDE,OAAO,CAACG,IAAI,CAAC,CAAC,CAAC;AACnB,CAAC,CAAC;;AAEF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}